<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Favorite Book App</title>
    <script src="https://unpkg.com/react@15.3.2/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@15.3.2/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-core@5.8.38/browser.min.js"></script>
    <script src ="bookGenerator.js" type="text/babel" ></script>
    <script src="jquery-1.12.4.min.js"></script>

</head>
<body>
  <h1>Favorite Book App</h1>
  <div id="create"></div>
  <div id = "display"></div>

  <script type="text/babel" >


  //used to hold all the user created books

  //alert("working");

  var Fuck = React.createClass({
    render: function(){
      return (<h2>FUCKFUCK</h2>);
    }
  });


  //used to create the input box for Books/ Authors
  var BookText = React.createClass({
      getInitialState: function(){
        return {value: "Enter a book!"};
      },
      handleChange: function(event){
        this.setState({value: event.target.value});
      },
      clearField: function(event){
        this.setState({value: ""});
      },
      render: function(){
        return <input type = "text" value = {this.state.value}
        onChange ={this.handleChange} onClick = {this.clearField}/>
      }
  });
  var AuthorText = React.createClass({
    getInitialState: function(){
      //if(id === "book")
        return {value: "Enter an author!"};
      //else
      //return {value: "Enter an author!"};
    },
    handleChange: function(event){
      this.setState({value: event.target.value});
    },
    clearField: function(event){
      //if(value === "Enter a book!")
        this.setState({value: "" });
    },
    render: function(){
      return (
        <input type = "text" value = {this.state.value}
        onChange ={this.handleChange} onClick = {this.clearField}/>
      );
    }
  });

  //class that displays the add favorite book text/ form
  var TextCreator = React.createClass({
    newBook: function(){
        alert("functionWorks");
    },
    render: function(){
      return (<div>
                <h2>
                  Add a favorite book.
                </h2>
                <form id="form1" action="index.html" >
                  <BookText/><br/>
                  <AuthorText/><br/>
                  <button onClick = "newBook">Post your book!</button>

                </form>
              </div>);
    }
  });

 //Each individual book object
 var Book = React.createClass({
   getInitialState: function(){
     return{
       title: "Book title",
       author: "Book Author"
     };
   },
   changeAuthor: function(auth){
     this.setState({author: auth}) ;
   },
   changeTitle: function(tit){
     this.setState({title: tit});
   },
   render: function(){
     this.setState({title: this.props.bookName});
     this.setState({author: this.props.authorName});
     return (<div>
               <h3>{this.state.title}</h3>
               <p>{this.state.author}</p>
             </div>);
   }
 });


 var BookList = React.createClass({

   getInitialState: function(){
     return{
       books: [
         "DT"
       ]
     };
   },
   render: function(){
     return(
       <div className="favBooks">
       {
          this.state.books.map(
              function(element, i){
                  return (<Book bookName = "Generix" authorName = "Geberix"/>);
              })
        }
       </div>
     );
   }

 });


  ReactDOM.render(
    (<div>
      <TextCreator/>
      <BookList/>
    </div>)
    , document.getElementById('display'));

</script>

</body>
</html>
